Phase 1: Language Handling & Consistency
1. Improve Language Detection Logic
Enhance recognition of Swedish greetings and keywords (hej, tack, hjÃ¤lp, jag behÃ¶ver hjÃ¤lp).

Ensure language routing activates the appropriate assistant configuration (Swedish vs English).

Apply language detection consistently across all entry points and handoff scenarios.

2. Fix Incorrect Starting Message Language
Modify logic so that the assistantâ€™s starting message matches the userâ€™s detected or selected language.

English-initiated chats must receive the corresponding English intro message:

English: â€œHi! I'm Marcus Chen and Iâ€™ll be helping you today. What can I help you with?â€

Swedish: Current message is already correct.

3. Translate Form Placeholder in Swedish
Update the form's dropdown placeholder from â€œChoose from the optionsâ€ to the correct Swedish version.

Confirm all form labels and placeholders match the active language setting.

4. Enable Language Toggle in Initial Popup Form
Add tab-style UI toggle to the form allowing users to switch between English and Swedish.

Maintain identical structure, validation, and data submission for both versions.

Ensure lead and conversation data are correctly logged regardless of language.

ğŸ§­ Phase 2: Post-Chat Logic & Rating Flow
5. Automate Post-Chat â€œThank Youâ€ Message
Auto-send a localized thank-you message after 40 seconds of user inactivity after the chat is finished.

Avoid triggering this while the user is still typing.

Message content:

English: â€œThank you for today, [Userâ€™s Name]. We are happy to assist you next time!â€

Swedish: Localized equivalent to be used.

6. Integrate Chat Rating Form
Display rating form popup after the thank-you message is sent.

Support both Swedish and English via same detection/toggle logic as the initial form.

Submission must be saved to:

Chat statistics

User lead

Chat history in the dashboard

7. Ensure Rating Logic Triggers Reliably
Fix the broken trigger so the form appears as designed.

Add fallback logging or alerts if submission fails or isn't recorded properly.